"use strict";(self.webpackChunkreact_recipes_2=self.webpackChunkreact_recipes_2||[]).push([[337],{8337:function(e,i,r){r.r(i);var t=r(1413),n=r(2791),s=r(9434),a=r(4880),l=r(5290),c=r(4569),o=r.n(c),d=r(4270),m=r(1747),p=r(1830),x=r.n(p),u=r(184);i.default=function(){var e=(0,s.I0)(),i=(0,s.v9)((function(e){var i;return null===(i=e.authReducer.userInfo)||void 0===i?void 0:i.userId}));console.log("userId:",i),(0,n.useEffect)((function(){e(m.qo.setTitle("Add Recipe")),e(m.qo.setHeaderAlignment("text-left"))}),[]);var r=(0,l.cI)({mode:"all",shouldUnregister:!1,reValidateMode:"onChange",defaultValues:{ingredient:[{value:""}],step:[{value:""}],nutrient:[{value:""}]}}),c=r.register,p=r.handleSubmit,h=r.formState,g=h.errors,j=h.isValid,b=h.isDirty,f=r.control,N=r.reset,v=r.setValue,y=(0,l.Dq)({control:f,name:"ingredient"}),w=y.fields,C=y.append,q=y.remove,k=(0,l.Dq)({control:f,name:"step"}),P=k.fields,L=k.append,T=k.remove,V=(0,l.Dq)({control:f,name:"nutrient"}),I=V.fields,S=V.append,Z=V.remove,D=function(e,i){v("step[".concat(i,"].value"),e.currentTarget.value)},M=w.map((function(e,i){return(0,u.jsxs)("div",{className:"col-md-8 margin-bottom-20px",children:[(0,u.jsxs)("label",{children:["Ingredient ",i+1," ",e.ingredient]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-8",children:[(0,u.jsx)("input",(0,t.Z)({type:"text",defaultValue:e.value,onChange:function(e){return function(e,i){v("ingredient[".concat(i,"].value"),e.currentTarget.value)}(e,i)},className:"form-control form-control-sm ".concat(g.ingredient&&g.ingredient[i]&&"inValid"),control:f},c("ingredient[".concat(i,"].value"),{required:!0,minLength:2})),e.id),g.ingredient&&g.ingredient[i]&&"required"===g.ingredient[i].value.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter Ingredient"}),g.ingredient&&g.ingredient[i]&&"minLength"===g.ingredient[i].value.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter minimum 2 characters"})]}),i>0&&(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsx)("button",{type:"button",className:"btn-sm background-main-color btn-primary ba-1",onClick:function(){return function(e){q(e)}(i)},children:"remove"})})]})]},"ingredient"+i)})),R=P.map((function(e,i){return(0,u.jsxs)("div",{className:"col-md-8 margin-bottom-20px",children:[(0,u.jsxs)("label",{children:["Step ",i+1," ",e.step]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-8",children:[(0,u.jsx)("input",(0,t.Z)({type:"text",defaultValue:e.value,onChange:function(e){return D(e,i)},className:"form-control form-control-sm ".concat(g.step&&g.step[i]&&"inValid"),control:f},c("step[".concat(i,"].value"),{required:!0,minLength:2})),e.id),g.step&&g.step[i]&&"required"===g.step[i].value.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter Step"}),g.step&&g.step[i]&&"minLength"===g.step[i].value.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter minimum 2 characters"})]}),i>0&&(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsx)("button",{type:"button",className:"btn-sm background-main-color btn-primary ba-1",onClick:function(){return function(e){T(e)}(i)},children:"remove"})})]})]},"step"+i)})),W=I.map((function(e,i){return(0,u.jsxs)("div",{className:"col-md-8 margin-bottom-20px",children:[(0,u.jsxs)("label",{children:["Nutrient ",i+1," ",e.nutrient]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-8",children:[(0,u.jsx)("input",(0,t.Z)({type:"text",defaultValue:e.value,onChange:function(e){return D(e,i)},className:"form-control form-control-sm ".concat(g.nutrient&&g.nutrient[i]&&"inValid"),control:f},c("nutrient[".concat(i,"].value"),{required:!0,minLength:2})),e.id),g.nutrient&&g.nutrient[i]&&"required"===g.nutrient[i].value.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter nutrient"}),g.nutrient&&g.nutrient[i]&&"minLength"===g.nutrient[i].value.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter minimum 2 characters"})]}),i>0&&(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsx)("button",{type:"button",className:"btn-sm background-main-color btn-primary ba-1",onClick:function(){return function(e){Z(e)}(i)},children:"remove"})})]})]},"nutrient"+i)}));return(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)(d.q,{children:(0,u.jsx)("title",{children:"Cook Note - Add recipe"})}),(0,u.jsxs)("form",{onSubmit:p((function(r){try{e(m.qo.showLoader(!0)),o().post("https://react-movie-52e51-default-rtdb.firebaseio.com/recipes/".concat(i,".json"),r).then((function(e){if(200!==e.status)throw new Error(e.error);x().fire({icon:"success",title:"Success",text:"Recipe Successfully submitted",timer:2e3}).then((function(){N()}))})).catch((function(i){e(m.qo.showLoader(!1)),x().fire({icon:"error",title:"Error",text:i.message}),console.log("error:",i)})).finally((function(){e(m.qo.showLoader(!1))}))}catch(t){e(m.qo.showLoader(!1)),x().fire({icon:"error",title:"Error",text:t.message}),console.log("error:",t)}})),children:[i&&(0,u.jsx)(a.NL,{when:b,message:"Changes you made may not be saved."}),(0,u.jsxs)("div",{className:"margin-tb-45px full-width",children:[(0,u.jsxs)("h4",{className:"padding-lr-30px padding-tb-20px background-white box-shadow border-radius-10",children:[(0,u.jsx)("i",{className:"far fa-list-alt margin-right-10px text-main-color"}),"Basic Informations"]}),(0,u.jsxs)("div",{className:"padding-30px padding-bottom-30px background-white border-radius-10",children:[(0,u.jsx)("div",{className:"form-group margin-bottom-20px",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-6",children:[(0,u.jsxs)("label",{children:[(0,u.jsx)("i",{className:"far fa-list-alt margin-right-10px"})," Recipe Title"]}),(0,u.jsx)("input",(0,t.Z)({type:"text",className:"form-control form-control-sm ".concat(g.recipeTitle&&"inValid"),placeholder:"Recipe Title"},c("recipeTitle",{required:!0,minLength:3}))),g.recipeTitle&&"required"===g.recipeTitle.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter Recipe Title"}),g.recipeTitle&&"minLength"===g.recipeTitle.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter minimum 3 characters"})]}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group margin-bottom-20px",children:[(0,u.jsxs)("label",{children:[(0,u.jsx)("i",{className:"far fa-images margin-right-10px"})," Image URL"]}),(0,u.jsx)("input",(0,t.Z)({type:"text",className:"form-control form-control-sm ".concat(g.recipeImage&&"inValid"),placeholder:"http://www./"},c("recipeImage",{required:!0,minLength:3}))),g.recipeImage&&"required"===g.recipeImage.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter Recipe image url"}),g.recipeImage&&"minLength"===g.recipeImage.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter minimum 3 characters"})]})})]})}),(0,u.jsx)("div",{className:"form-group margin-bottom-20px",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-4",children:[(0,u.jsxs)("label",{children:[(0,u.jsx)("i",{className:"far fa-folder-open margin-right-10px"})," Category"]}),(0,u.jsxs)("select",(0,t.Z)((0,t.Z)({className:"form-control form-control-sm"},c("recipeCategory")),{},{children:[(0,u.jsx)("option",{children:"Fish"}),(0,u.jsx)("option",{children:"Cocktails"}),(0,u.jsx)("option",{children:"Eggs"}),(0,u.jsx)("option",{children:"Salads"}),(0,u.jsx)("option",{children:"Asian"}),(0,u.jsx)("option",{children:"Pizza"})]}))]}),(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group margin-bottom-20px",children:[(0,u.jsx)("label",{children:"Cuisine Type"}),(0,u.jsx)("input",(0,t.Z)({type:"text",className:"form-control form-control-sm ".concat(g.recipeCuisine&&"inValid")},c("recipeCuisine",{required:!0,minLength:3}))),g.recipeCuisine&&"required"===g.recipeCuisine.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter Cuisine Type"}),g.recipeCuisine&&"minLength"===g.recipeCuisine.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter minimum 3 characters"})]})}),(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group margin-bottom-20px",children:[(0,u.jsx)("label",{children:"Meal Type"}),(0,u.jsx)("input",(0,t.Z)({type:"text",className:"form-control form-control-sm ".concat(g.recipeMeal&&"inValid")},c("recipeMeal",{required:!0,minLength:3}))),g.recipeMeal&&"required"===g.recipeMeal.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter Meal Type"}),g.recipeMeal&&"minLength"===g.recipeMeal.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter minimum 3 characters"})]})})]})}),(0,u.jsx)("div",{className:"form-group margin-bottom-20px",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group margin-bottom-20px",children:[(0,u.jsx)("label",{children:"Diet Type"}),(0,u.jsx)("input",(0,t.Z)({type:"text",className:"form-control form-control-sm ".concat(g.recipeDiet&&"inValid")},c("recipeDiet",{required:!0,minLength:3}))),g.recipeDiet&&"required"===g.recipeDiet.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter Diet Type"}),g.recipeDiet&&"minLength"===g.recipeDiet.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter minimum 3 characters"})]})}),(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group margin-bottom-20px",children:[(0,u.jsx)("label",{children:"Total Weight (g)"}),(0,u.jsx)("input",(0,t.Z)({type:"text",className:"form-control form-control-sm ".concat(g.recipeWeight&&"inValid")},c("recipeWeight",{required:!0,pattern:/^\d*$/}))),g.recipeWeight&&"required"===g.recipeWeight.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter Weight"}),g.recipeWeight&&"pattern"===g.recipeWeight.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter valid Weight"})]})}),(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group margin-bottom-20px",children:[(0,u.jsx)("label",{children:"Total Calories (Kcal)"}),(0,u.jsx)("input",(0,t.Z)({type:"text",className:"form-control form-control-sm ".concat(g.recipeCalories&&"inValid")},c("recipeCalories",{required:!0,pattern:/^\d*$/}))),g.recipeCalories&&"required"===g.recipeCalories.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter Calories"}),g.recipeCalories&&"pattern"===g.recipeCalories.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter valid Calories"})]})})]})}),(0,u.jsx)("div",{className:"form-group margin-bottom-20px",children:(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group margin-bottom-20px",children:[(0,u.jsxs)("label",{children:[(0,u.jsx)("i",{className:"fas fa-users"})," Servings"]}),(0,u.jsx)("input",(0,t.Z)({type:"text",className:"form-control form-control-sm ".concat(g.recipeServings&&"inValid")},c("recipeServings",{required:!0,pattern:/^\d*$/}))),g.recipeServings&&"required"===g.recipeServings.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter Servings"}),g.recipeServings&&"pattern"===g.recipeServings.type&&(0,u.jsx)("p",{className:"text-main-color",children:"Please enter only digits"})]})})})})]})]}),(0,u.jsxs)("div",{className:"margin-bottom-45px full-width",children:[(0,u.jsxs)("h4",{className:"padding-lr-30px padding-tb-20px background-white box-shadow border-radius-10",children:[(0,u.jsx)("i",{className:"far fa-list-alt margin-right-10px text-main-color"}),"Ingredients"]}),(0,u.jsx)("div",{className:"padding-30px padding-bottom-30px background-white border-radius-10",children:(0,u.jsxs)("div",{className:"row",children:[M,(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)("button",{type:"button",className:"btn btn-md btn-primary ba-1",onClick:function(){C({value:""})},children:"+ Add more"})})]})})]}),(0,u.jsxs)("div",{className:"margin-bottom-45px full-width",children:[(0,u.jsxs)("h4",{className:"padding-lr-30px padding-tb-20px background-white box-shadow border-radius-10",children:[(0,u.jsx)("i",{className:"far fa-list-alt margin-right-10px text-main-color"}),"Method"]}),(0,u.jsx)("div",{className:"padding-30px padding-bottom-30px background-white border-radius-10",children:(0,u.jsxs)("div",{className:"row",children:[R,(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)("button",{type:"button",className:"btn btn-md btn-primary ba-1",onClick:function(){L({value:""})},children:"+ Add more"})})]})})]}),(0,u.jsxs)("div",{className:"margin-bottom-45px full-width",children:[(0,u.jsxs)("h4",{className:"padding-lr-30px padding-tb-20px background-white box-shadow border-radius-10",children:[(0,u.jsx)("i",{className:"far fa-list-alt margin-right-10px text-main-color"}),"Total Nutrients"]}),(0,u.jsx)("div",{className:"padding-30px padding-bottom-30px background-white border-radius-10",children:(0,u.jsxs)("div",{className:"row",children:[W,(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)("button",{type:"button",className:"btn btn-md btn-primary ba-1",onClick:function(){S({value:""})},children:"+ Add more"})})]})})]}),(0,u.jsx)("button",{type:"submit",href:"#",className:"btn btn-lg border-2  ba-1 text-white margin-bottom-80px btn-block border-radius-15 padding-15px box-shadow",disabled:!j,children:"Add Recipe"})]})]})}}}]);
//# sourceMappingURL=337.17689906.chunk.js.map