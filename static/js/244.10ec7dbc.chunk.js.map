{"version":3,"file":"static/js/244.10ec7dbc.chunk.js","mappings":"wPAiHA,UAzGuB,WACtB,IAAMA,GAAkBC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMC,YAAYH,eAAe,IACxEI,GAAUC,EAAAA,EAAAA,MACVC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,UAEd,GAAkEC,EAAAA,EAAAA,IAAQ,CAC5EC,KAAM,MACNC,kBAAkB,EAChBC,eAAgB,aAHRC,EAAQ,EAARA,SAAUC,EAAY,EAAZA,aAAa,EAAD,EAAEC,UAAaC,EAAM,EAANA,OAAQC,EAAO,EAAPA,QAgB9B,aA4CzB,OA5CyB,0BAA1B,WAA2BC,GAAI,gFAI2F,OAHrHC,EAAW,wBAAuB,SAErCd,EAASe,EAAAA,GAAAA,YAAyB,IACtB,6GAA6G,EAAD,OAC/FC,MADb,6GACuB,CAClCC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACLC,YAAa,iBACbC,MAAOT,EAAKS,QAE5BC,QAAS,CACL,eAAgB,sBAEnB,OATc,OAARC,EAAQ,gBAWWA,EAASC,OAAO,KAAD,EAAxB,GAAZC,EAAY,OACdF,EAASG,GAAG,CAAD,gBAC4B,MAAzCC,QAAQC,IAAI,SAAUH,EAAaI,OAC7B,IAAIC,MAAML,EAAaI,MAAME,SAAS,KAAD,GAGtB,MAApBR,EAASS,QACXC,IAAAA,KAAU,CACTC,KAAM,UACNC,MAAO,UACPC,KAAM,qDAGRrC,EAASe,EAAAA,GAAAA,YAAyB,IAAQ,kDAE1Cf,EAASe,EAAAA,GAAAA,YAAyB,IAClCa,QAAQC,IAAI,kBAAmB,KAAMG,SAEhB,oBAAlB,KAAMA,UACRlB,EAAW,+BAEVoB,IAAAA,KAAU,CACXC,KAAM,QACNC,MAAO,QACPC,KAAMvB,IACL,2DAGH,uBAvDDwB,EAAAA,EAAAA,YAAU,WACTtC,EAASe,EAAAA,GAAAA,SAAuB,oBAChCf,EAASe,EAAAA,GAAAA,mBAAiC,eAC3C,GAAG,CAACf,KAEDsC,EAAAA,EAAAA,YAAU,WACR5C,GACHI,EAAQyC,KAAK,IAEZ,GAAG,CAAC7C,IAsDJ,OACF,iBAAK8C,UAAU,gCAA+B,WAC7C,SAAC,IAAM,WACN,2BAAO,mCAER,gBAAKC,GAAG,SAASD,UAAU,oDAAmD,UAE7E,gBAAKA,UAAU,cAAa,UAC3B,kBAAME,SAAUjC,GAdC,SAACI,IAhDE,SAEG,GAAD,wBA+CzB8B,CAAY,CACXrB,MAAOT,EAAKS,OAEd,IAU+C,WAC1C,iBAAKkB,UAAU,4BAA2B,WACzC,kBAAOA,UAAU,gBAAe,SAAC,gBACjC,0BAAOA,UAAS,uBAAkB7B,EAAOW,OAAS,WACjDsB,YAAY,cACZC,KAAK,OACLC,IAAK5C,GACDM,EAAS,QAAS,CACrBuC,SAAU,4BACVC,QAAS,+JAEX,kBAAOP,GAAG,YAAYD,UAAU,uBAAsB,SAAC,0DACtD7B,EAAOW,OAA+B,aAAtBX,EAAOW,MAAMuB,OAAuB,cAAGL,UAAU,kBAAiB,SAAC,uBACnF7B,EAAOW,OAA+B,YAAtBX,EAAOW,MAAMuB,OAAsB,cAAGL,UAAU,kBAAiB,SAAC,iCAEpF,mBAAQK,KAAK,SAASL,UAAU,oCAAoCS,UAAWrC,EAAQ,SAAC,6BAM9F,C","sources":["pages/ForgotPassword.js"],"sourcesContent":["import { useEffect, useRef } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Swal from 'sweetalert2';\r\nimport { Helmet } from \"react-helmet\";\r\nimport { layoutActions } from \"../Store\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nconst ForgotPassword = () => {\r\n\tconst isAuthenticated = useSelector(state => state.authReducer.isAuthenticated);\r\n\tconst history = useHistory();\r\n\tconst dispatch = useDispatch();\r\n\tconst emailRef = useRef();\r\n\r\n    const { register, handleSubmit, formState: { errors, isValid }} = useForm({\r\n\t\tmode: 'all',\r\n\t\tshouldUnregister: true,\r\n  \t\treValidateMode: 'onChange',\r\n\t});\r\n\tuseEffect(() => {\r\n\t\tdispatch(layoutActions.setTitle('Forgot Password'));\r\n\t\tdispatch(layoutActions.setHeaderAlignment('text-center'));\r\n\t}, [dispatch])\r\n\r\n    useEffect(() => {\r\n\t\tif (isAuthenticated) {\r\n\t\t\thistory.push(\"/\");\r\n\t\t}\r\n    }, [isAuthenticated])\r\n\r\n\tasync function sendRequest(data) {\r\n\t\tlet errorMsg = 'Something went wrong!'\r\n\t\ttry {\r\n\t\t\tdispatch(layoutActions.showLoader(true));\r\n\t\t  \tlet url = 'https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=AIzaSyDRohny3ltD8ORRdQxLQfLCtyHgWRJjk9I';\r\n\t\t  \tconst response = await fetch(url,{\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: JSON.stringify({\r\n                    requestType: \"PASSWORD_RESET\",\r\n                    email: data.email\r\n                }),\r\n\t\t\t\theaders: {\r\n\t\t\t\t    'Content-Type': 'application/json'\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\tconst responseData = await response.json();\r\n\t\t\tif(!response.ok) {\r\n\t\t\t  console.log(\"error:\", responseData.error)\r\n\t\t\t  throw new Error(responseData.error.message);\r\n\t\t\t}\r\n\t\r\n\t\t\tif(response.status === 200) {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: 'Success',\r\n\t\t\t\t\ttext: 'Reset Password link has been sent to your email.'                    \r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tdispatch(layoutActions.showLoader(false));\r\n\t\t} catch (error) {\r\n\t\t\tdispatch(layoutActions.showLoader(false));\r\n\t\t\tconsole.log(\"error in catch:\", error.message)\r\n\r\n\t\t\tif(error.message === 'EMAIL_NOT_FOUND') {\r\n\t\t\t\terrorMsg = \"Entered email is not found.\"\r\n\t\t\t}\r\n\t\t  \tSwal.fire({\r\n\t\t\t\ticon: 'error',\r\n\t\t\t\ttitle: 'Error',\r\n\t\t\t\ttext: errorMsg\r\n\t\t\t})\r\n\t\t}\r\n\t   \r\n\t}\r\n\r\n\tconst loginHandler = (data) => {\r\n\t\tsendRequest({\r\n\t\t\temail: data.email\r\n\t\t});\r\n\t}\r\n\t\r\n    return (\r\n\t\t<div className=\"container margin-bottom-100px\">\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Cook Note - Forgot Password</title>\r\n\t\t\t</Helmet>\r\n\t\t\t<div id=\"log-in\" className=\"site-form log-in-form box-shadow border-radius-10\">\r\n\r\n\t\t\t\t<div className=\"form-output\">\r\n\t\t\t\t\t<form onSubmit={handleSubmit(loginHandler)}>\r\n\t\t\t\t\t\t<div className=\"form-group label-floating\">\r\n\t\t\t\t\t\t\t<label className=\"control-label\">Your Email</label>\r\n\t\t\t\t\t\t\t<input className={`form-control ${errors.email && 'inValid'}`}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter Email\" \r\n\t\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\t\tref={emailRef} \r\n\t\t\t\t\t\t\t\t{...register(\"email\", { \r\n\t\t\t\t\t\t\t\t\trequired: \"Email Address is required\",\r\n\t\t\t\t\t\t\t\t\tpattern: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\t\t\t\t\t\t\t\t})}/>\r\n\t\t\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">We'll send you the password reset link to your email.</small>\r\n\t\t\t\t\t\t\t{errors.email && errors.email.type === \"required\" && <p className=\"text-main-color\">Please enter email</p>}\r\n\t\t\t\t\t\t\t{errors.email && errors.email.type === \"pattern\" && <p className=\"text-main-color\">Please enter valid email</p> }\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-md btn-primary full-width\" disabled={!isValid}>Send Reset Link</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n    )\r\n}\r\n\r\nexport default ForgotPassword;"],"names":["isAuthenticated","useSelector","state","authReducer","history","useHistory","dispatch","useDispatch","emailRef","useRef","useForm","mode","shouldUnregister","reValidateMode","register","handleSubmit","formState","errors","isValid","data","errorMsg","layoutActions","fetch","method","body","JSON","stringify","requestType","email","headers","response","json","responseData","ok","console","log","error","Error","message","status","Swal","icon","title","text","useEffect","push","className","id","onSubmit","sendRequest","placeholder","type","ref","required","pattern","disabled"],"sourceRoot":""}