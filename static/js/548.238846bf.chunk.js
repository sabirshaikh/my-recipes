"use strict";(self.webpackChunkreact_recipes_2=self.webpackChunkreact_recipes_2||[]).push([[548],{1147:function(e,s,r){var t=r(1413),a=r(2791),n=r(184),o=a.forwardRef((function(e,s){return(0,n.jsx)("input",(0,t.Z)({ref:s},e))}));s.Z=o},3548:function(e,s,r){r.r(s);var t=r(4165),a=r(1413),n=r(5861),o=r(2791),i=r(4880),l=r(1523),c=r(9434),d=r(1747),m=r(1830),u=r.n(m),p=r(5290),h=r(4270),f=r(1147),g=r(5074),x=r(184);s.default=function(){var e=(0,c.v9)((function(e){return e.authReducer.isAuthenticated})),s=(0,i.k6)(),r=(0,c.I0)(),m=(0,o.useRef)(),w=(0,o.useRef)(),y=(0,p.cI)({mode:"all",shouldUnregister:!0,reValidateMode:"onChange"}),j=y.register,I=y.handleSubmit,b=y.formState,N=b.errors,v=b.isValid;function k(){return(k=(0,n.Z)((0,t.Z)().mark((function e(s){var a,n,o,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="couldn't sign in",e.prev=1,r(d.qo.showLoader(!0)),"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDRohny3ltD8ORRdQxLQfLCtyHgWRJjk9I",e.next=6,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDRohny3ltD8ORRdQxLQfLCtyHgWRJjk9I",{method:"POST",body:JSON.stringify({email:s.email,password:s.password,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 6:return n=e.sent,e.next=9,n.json();case 9:if(o=e.sent,n.ok){e.next=13;break}throw console.log("error:",o.error),new Error(o.error.message);case 13:200===n.status&&(u().fire({icon:"success",title:"Success",text:"Successfully sign In",timer:2e3}),r(d.YV.login({token:o.idToken,expiresIn:o.expiresIn,userInfo:{email:o.email,userId:o.localId}})),i=new Date((new Date).getTime()+1e3*+o.expiresIn),r((0,g.AH)(i.toISOString())),console.log("localId:",o)),r(d.qo.showLoader(!1)),e.next=26;break;case 17:e.prev=17,e.t0=e.catch(1),r(d.qo.showLoader(!1)),console.log("error in catch:",e.t0.message),"INVALID_EMAIL"===e.t0.message&&(a="Please entered valid email"),"EMAIL_NOT_FOUND"===e.t0.message&&(a="Entered email is not found"),e.t0.message.includes("INVALID_PASSWORD")&&(a="Entered password is invalid"),e.t0.message.includes("TOO_MANY_ATTEMPTS_TRY_LATER")&&(a="We have blocked all requests from this device due to unusual activity. Try again later."),u().fire({icon:"error",title:"Error",text:a});case 26:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}(0,o.useEffect)((function(){r(d.qo.setTitle("Sign In")),r(d.qo.setHeaderAlignment("text-center"))}),[]),(0,o.useEffect)((function(){e&&s.push("/")}),[e]);return(0,x.jsxs)("div",{className:"container margin-bottom-100px",children:[(0,x.jsx)(h.q,{children:(0,x.jsx)("title",{children:"Sign In | Cook Note - Food Recipes"})}),(0,x.jsx)("div",{id:"log-in",className:"site-form log-in-form box-shadow border-radius-10",children:(0,x.jsx)("div",{className:"form-output",children:(0,x.jsxs)("form",{onSubmit:I((function(e){!function(e){k.apply(this,arguments)}({email:e.email,password:e.password})})),children:[(0,x.jsxs)("div",{className:"form-group label-floating",children:[(0,x.jsx)("label",{className:"control-label",children:"Your Email"}),(0,x.jsx)(f.Z,(0,a.Z)({className:"form-control ".concat(N.email&&"inValid"),placeholder:"Enter Email",type:"text",ref:m},j("email",{required:"Email Address is required",pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}))),N.email&&"required"===N.email.type&&(0,x.jsx)("p",{className:"text-main-color",children:"Please enter email"}),N.email&&"pattern"===N.email.type&&(0,x.jsx)("p",{className:"text-main-color",children:"Please enter valid email"})]}),(0,x.jsxs)("div",{className:"form-group label-floating",children:[(0,x.jsx)("label",{className:"control-label",children:"Your Password"}),(0,x.jsx)(f.Z,(0,a.Z)({className:"form-control ".concat(N.password&&"inValid"),placeholder:"Enter Pasword",type:"password",ref:w},j("password",{required:!0,maxLength:10,minLength:6}))),N.password&&"required"===N.password.type&&(0,x.jsx)("p",{className:"text-main-color",children:"Please enter password"}),N.password&&"minLength"===N.password.type&&(0,x.jsx)("p",{className:"text-main-color",children:"Please enter minimum 6 characters"}),N.password&&"maxLength"===N.password.type&&(0,x.jsx)("p",{className:"text-main-color",children:"Please enter maximum 10 characters"})]}),(0,x.jsx)(l.rU,{to:"/forgot-password",children:"Forgot password?"}),(0,x.jsx)("button",{type:"submit",className:"btn btn-md btn-primary full-width",disabled:!v,children:"Sign In"}),(0,x.jsxs)("p",{children:["Don't you have an account? ",(0,x.jsx)(l.rU,{to:"/singup",children:"Register Now!"})," "]})]})})})]})}}}]);
//# sourceMappingURL=548.238846bf.chunk.js.map